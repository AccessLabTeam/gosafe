<!DOCTYPE html>


<html>
    <head>
	
	
		<meta charset="utf-8" />
		<meta property="og:image" content="img/go_icon.png">
		<meta name="viewport" content="width=device-width, initial-scale=0.8">
        
        <title>GOSAFE</title>
		
		
		<!----offline---->
		
		
		<!----cookies---->
	
	

	
	 
        <!-- JQuery -->
		 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.2/jquery.form.min.js" integrity="sha384-FzT3vTVGXqf7wRfy8k4BiyzvbNfeYjK+frTVqZeNDFl8woCbF0CYG6g2fMEFFo/i" crossorigin="anonymous"></script>
		 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	
		<!-- leaflet-->
  
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.js"></script>

        <link rel="icon" type="image/png" href="img/go_icon.png" />


        <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
        <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />
		
		 <!--- SUBMIT--->
	
		 <!---<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>


        <!-- shapefiles -->


        <script src="https://cdn.jsdelivr.net/npm/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.markercluster@1.3.0/dist/MarkerCluster.css">


       
        <script src="data/moschato.js"></script>
        <script src="data/alimos.js"></script>
        <script src="data/rampes_moschato.js"></script>
        <script src="data/rampes_alimos.js"></script>
        <script src="data/pois_moscha.js"></script>
        <script src="data/pois_alimos.js"></script>
		<script src="data/diavaseis_alimos.js"></script>
		<script src="data/diavaseis_moschato.js"></script>
		<script src="data/oria_moschato.js"></script>
		<script src="data/oria_alimos.js"></script>
		
		
		 <!---<script src="data/app_central.js"></script>
		
		
		 <!---<script src="js/application.js"></script>--->
        <script src="js/Autolinker.min.js"></script>

	<script src="https://unpkg.com/pouchdb@^5.2.0/dist/pouchdb.js"></script>
	<!---<script src="https://unpkg.com/leaflet.tilelayer.pouchdbcached@latest/L.TileLayer.PouchDBCached.js"></script>--->
 
 
 
 
 

        <!-- sidebar -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
              crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
        <link rel="stylesheet" href="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.min.css">

		
		
		<!---BING--->
	<!---<script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=Promise"></script>
	<script src="js/Bing.js"></script>
	 <script src="js/leaflet-bing-layer.js"></script>--->


        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/sidebar-themes.css">

        <script src="js/L.Control.Window.js"></script>

        <!--  -->

        <script src="//malihu.github.io/custom-scrollbar/jquery.mCustomScrollbar.concat.min.js"></script>
		
		
        <!--- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCtfGQhDWSqeLpf06S6WVIkrnp7wahc_xc" async defer></script>
        <!--- <script src='https://unpkg.com/leaflet.gridlayer.googlemutant@latest/Leaflet.GoogleMutant.js'></script>--->
        <script src="js/main.js"></script>
		
			<!--  google API -->

		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAGi_5nTCRvaX0n3CKedLOiE7nlB0ByvIo" async defer></script>
		<!--  mdbootstrap -->
		 
				<!-- Font Awesome -->
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
		<!-- Bootstrap core CSS -->
		<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
		<!-- Material Design Bootstrap -->
		<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.8.5/css/mdb.min.css" rel="stylesheet">
		
				
		<!-- Bootstrap tooltips -->
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
		<!-- Bootstrap core JavaScript -->
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
		<!-- MDB core JavaScript -->
		<!--  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.8.5/js/mdb.min.js"></script>-->


        <!-- geolocation-->
        <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.62.0/src/L.Control.Locate.min.js" charset="utf-8"></script>
        <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
        <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

		<!-- POPUP POIS-->
		<script src="js/L.Control.Window.js"></script>
        <link rel="stylesheet" href="css/L.Control.Window.css">

        <!-- ruler-->

        <link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/gokertanrisever/leaflet-ruler/master/src/leaflet-ruler.css">
        <script src="https://cdn.rawgit.com/gokertanrisever/leaflet-ruler/master/src/leaflet-ruler.js"></script>


		<!-- pie -->
		<script src="https://code.highcharts.com/6.0.6/highcharts.js"></script>
		
		
		<!-- alert -->
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@8.13.4/dist/sweetalert2.all.min.js"></script>

        <!-- Dependency to Leaflet Draw -->

        <link rel="stylesheet" href="src/leaflet.draw.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.2/leaflet.draw.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css" />

        <!--- mutant --->
        <script type="text/javascript" src="js/Leaflet.GoogleMutant.js"></script>

		
        <style type="text/css" media="print">
            @page { size: landscape;
			}
			.sidebar-bg.bg1 .sidebar-wrapper {
              visibility: hidden !important;   }
		#show-sidebar {
              visibility: hidden !important;   }
			 
      }

	  
        </style>
		
		
		

        <style>
	  

 .cluster {
                background: #3d3b42;
                border-radius: 50%;
                text-align: center;
                color: white;
                font-weight: 700;
                border: 1px solid #3d3b42;
                font-family: monospace;

            }

            .cluster:before {
                content: ' ';
                position: absolute;
                border-radius: 50%;
                z-index: -1;
                top: 1px;
                left: 1px;
                right: 1px;
                bottom: 1px;
                border: 1px solid white;
            }



            .digits-1 {
                font-size: 16px;
                height: 34px;
                width: 34px;
                line-height: 35px;
                margin-top: -17px;
                margin-left: -17px;
            }

            .digits-1:before {
                border-width: 2px;
            }

            .digits-2 {
                font-size: 18px;
                height: 48px;
                width: 47px;
                line-height: 47px;
                border-width: 3px;
                margin-top: -24px;
                margin-left: -24px;
            }

            .digits-2:before {
                border-width: 3px;
            }

            .digits-3 {
                font-size: 18px;
                height: 58px;
                width: 58px;
                line-height: 57px;
                border-width: 4px;
                margin-top: -29px;
                margin-left: -29px;
            }

            .digits-3:before {
                border-width: 4px;
            }


            body {
                padding: 0;
                margin: 0;
			
            }
            html, body, #map {
                height: 100%;
                width: 100%;
				zoom: 0.7;
				
            }
            #map {

                z-index: 0;


            }


            .leaflet-div-icon
            {
                background-image: url('https://officialpsds.com/imageview/7n/5y/7n5yjq_large.png?1521316554');
                background:rgba(0, 0, 0,0.2) ;
                border:5px solid rgba(0, 0, 0,0.6);
                color:#000;
                font-weight:bold;
                text-align:center;
                border-radius:50%;
                line-height:30px;


            }


            .leaflet-popup-content-wrapper{
                background-color: gray;
                opacity: 0.8;
                color: #FFFFFF;
            }
            .leaflet-popup-tip {
                background: black;

            }


            .sidebar-wrapper {
                top: 56px;
            }

            .leaflet-control-layers {
                left: 5px;
                top: 50px;
            }

            #show-sidebar {
                //position: fixed;
                left: -20px;
                top: 80px;
                border-radius: 0 4px 4px 0px;
                width: 35px;
                transition: left .3s ease;
                transition-delay: .3s; }
				
            .sidebar-bg.bg1 .sidebar-wrapper {
                background-image: url(img/bg22.jpg); }



            .navbar-brand {
                padding: 0px;
            }
            .navbar-brand>img {
                width: 130px;
                height: 36px;

                overflow: hidden;
                margin-top: -6px;
            }


            .modalDialog {
                position: fixed;
                font-family: Arial, Helvetica, sans-serif;
                top: 0;
                right: 0;
                bottom: 0;
                left: 0;
                background: rgba(0, 0, 0, 0.8);
                z-index: 99999;
                opacity:0;
                -webkit-transition: opacity 400ms ease-in;
                -moz-transition: opacity 400ms ease-in;
                transition: opacity 400ms ease-in;
                pointer-events: none;
            }
            .modalDialog:target {
                opacity:1;
                pointer-events: auto;
            }
            .modalDialog > div {
                width: 700px;
                position: relative;
                margin: 10% auto;
                padding: 5px 20px 13px 20px;
                border-radius: 10px;
                background: #fff;
                background: -moz-linear-gradient(#fff, #999);
                background: -webkit-linear-gradient(#fff, #999);
                background: -o-linear-gradient(#fff, #999);
            }
			
			
			 .close1 {
                background: #606061;
                color: #FFFFFF;
                line-height: 25px;
                position: absolute;
                right: -12px;
                text-align: center;
                top: -10px;
                width: 24px;
                text-decoration: none;
                font-weight: bold;
                -webkit-border-radius: 12px;
                -moz-border-radius: 12px;
                border-radius: 12px;
                -moz-box-shadow: 1px 1px 3px #000;
                -webkit-box-shadow: 1px 1px 3px #000;
                box-shadow: 1px 1px 3px #000;
            }
            .close1:hover {
                background: #00d9ff;
            }
			
          

            .leaflet-control-container {
                display: block;
            }

            .leaflet-control-layers {
                left: 5px;
                top: 50px;
            }

            .leaflet-touch .leaflet-control-attribution {
                display: none;
            }



            .image {
                position: absolute;
                right: 0px;
                bottom: 0px;


            }
            #map-container {
                position: fixed;
                top: 50px;
                left: 0;
                bottom: 0px;
                right: 0;
            }


            .boxes {
                margin: auto;
                padding: 50px;
                background: #484848;
            }




            label:hover {
                display: inline-block;
                //animation: swing ease-in-out .5s 1 alternate;

                color: #ffffff;
            }



            input[type="checkbox"] + label:last-child { margin-bottom: 10px; margin-top:10px;}

            input[type="checkbox"] {
                visibility: hidden;


            }
            label {
                display: inline-block;
                font-weight: 400;
                position: relative;
                padding-left: 25px;
                margin-bottom: 20px;
                font: 12px/16px 'Open Sans', Arial, sans-serif;
                color: #c9cacc; 
                cursor: pointer;
                transition: color 0.3s linear; /* vendorless fallback */
                -o-transition: color 0.3s linear; /* opera */
                -ms-transition: color 0.3s linear; /* IE 10 */
                -moz-transition: color 0.3s linear; /* Firefox */
                -webkit-transition: color 0.3s linear;

            }
            input[type="checkbox"] + label:before {

                content: "\00a0";
                display: block;
                width: 8px;
                height: 8px;
                border: 0.9px solid #ffffff;
                position: absolute;
                left: 3px;
                top: 0;
                opacity: .6;
                border-radius: 50%;



            }
            input[type="checkbox"]:checked + label:before {
                display: inline-block;
                position: absolute;
                border: 0;
                border-radius: 0%;
            }
            input[type="checkbox"]:checked + label:before{
                content: "\2713";
                color: #6cc0e5;



            }

            input[type="checkbox"]:focus + label::before {


            }


            .dropdown-menu a {
                white-space:normal;
            }
            .dropdown-menu > li{position:relative;}

            .dropdown-menu > li > i{position:absolute;left:0;top:3px;}


            .leaflet-draw-toolbar a.leaflet-draw-draw-marker {

                background-image: url('img/lala.jpg');
                background-position: center;
                //background-color: #ff6666;
                background-size: 265px 70px;
                border:2px solid rgba(0, 0, 0,0.6);


            }

            //.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-edit {
            /////	background: rgba(253, 201, 102, 0.5);

            //}
            //leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-remove  {
            //background: rgba(253, 201, 102, 0.5);
            //}

			
		
			body {
			  font-family: "Open Sans", -apple-system,
			  BlinkMacSystemFont, "Segoe UI", Roboto,
			  Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", Helvetica,
			  Arial, sans-serif; 
			}

			
			.swal-modal {
			  background-color: rgba(63,255,106,0.69);
			  border: 3px solid white;
			}


			#logo{
				 position:fixed;
				 
				bottom:10px;
				margin:10px;
				padding:0;
				width:20%;
				z-index:1;

			}
		
			
					
		html, body, #map {
			width:100%;
			height:100%;
			padding:0px !important;
			margin:0px !important;
			zoom: 1;
		
			
		}
	
		


		#info {
			font-weight:bold;
			color:LightGray ;
			display: inline-block;
			font-family: Arial, Helvetica, sans-serif;
			 font-size: 14px;
			
		}
		#info1 {
			font-weight:bold;
			color:LightGray ;
			font-family: Arial, Helvetica, sans-serif;
			 font-size: 14px;

		}
	
	
		
		
		.modal-header {
	  background-color:#2E2E2E;
	  color: white;
	}
	
	.btn-primary, .btn-primary:hover, .btn-primary:active, .btn-primary:visited {
    background-color: #2E2E2E !important;
		}

	
	

			@border-size: 5px;

			#page {
			 max-width: 90%;
			 margin: auto;
			position:fixed;
			margin:50px;
			top:0px;
			right:0px;
			padding:5px;
			display:none;
			
			
			}

			.container {
			  margin: 20px;
			  margin-bottom: 0;
			  position: relative;
			  display: inline-block;
			}

			.body {
			  position: relative;
			  padding: 10px;
			  width: 90%;
			  background: rgba(27, 35, 50, 0.9);
				border-top: 10px solid #2652A6;
			  display: inline-block; 
			  line-height: 1.5;
			  box-shadow: inset 0 0 @border-size #333;
			 border-radius: 25px;
			 
			
			}

			.info {
			padding: 6px 8px;
			font: 14px/16px Arial, Helvetica, sans-serif;
			background: white;
			background: rgba(255,255,255,0.8);
			box-shadow: 0 0 15px rgba(0,0,0,0.2);
			border-radius: 5px;
			}
			.legend {
			background-color: “black”;
			line-height: 25px;
			color: #555;
			width: auto;

			}
			.legend i {
			width: 18px;
			height: 18px;
			float: left;
			margin-right: 8px;
			opacity: 0.7;
			border-radius: 25px;
			}
			
			h2 {
			  font-size: 20px;
			}

			
		 #panel-float {
        position: absolute;
        top: 10px;
        left: 50%;
		transform: translateX(-50%) ;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
		display: none;
        
		
      }
	  

	  
	  
	  
	   #floating-panel {
        position: absolute;
        top: 10px;
         left: 50%;
		transform: translateX(-50%) ;
        z-index: 5;
		}
        
	  
	@media screen and (max-width: 900px) {
	     #floating-panel {
        position: absolute;
        top: 10px;
         left: 50%;
		transform: translateX(-50%) ;
        z-index: 5;
		display: none;
        
      }
       }
		

	  
	  

   .searchbar{
    margin-bottom: auto;
    margin-top: auto;
    height: 60px;
    background-color: white;
    border-radius: 30px;
    padding: 10px;
	
	 
    }

    .search_input{
    color: black;
    border: 0;
    outline: 0;
    background: none;
    width: 0;
    caret-color:transparent;
    line-height: 40px;
    transition: width 0.4s linear;
	
	
	 
    }

    .searchbar:hover > .search_input{
    padding: 0 10px;
    width: 450px;
    caret-color:red;
    transition: width 0.4s linear;
	
	
	
    }

    .searchbar:hover > .search_icon{
    background: white;
    color: #e74c3c;
	
	 
    }

    .search_icon{
    height: 40px;
    width: 40px;
    float: right;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 50%;
    color:white;

	
	 
    }
	
	


        </style>
		
		 <link rel="stylesheet" href="css/leaflet.measurecontrol.css" />
		<script src="js/leaflet.measurecontrol.js"></script>
		<script src="js/leaflet.measurecontrol.min.js"></script>
		  
	
    </head>
	
	
    <body>
	


         <nav class="navbar navbar-expand-md navbar-dark bg-dark bg1 fixed-top">
            <!-- Brand/logo -->
           <a class="navbar-brand"  id="brand" href=""><img src="img/gosafe.png" alt=""> </a>
			<a class="navbar-brand"  id="brand" href="http://www.patt.gov.gr/site/"><img src="img/alfa.png" alt=""> </a>
			

            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#"> <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"></a>
                </li>
			
            </ul>
		
				
				<ul class="navbar-nav">
			<li class="nav-item">
			 <a id="navbar-header" href="index.html">
                 <a class="nav-link" id="paso1" href="index_en.html"> <strong>EN</strong> </a>
                </a>
				 </li>
				</ul>
				
            <ul class="navbar-nav">
			<div class="d-none d-lg-block">
                <li class="nav-item">
                    <a class="nav-link" href="https://accesslab.gr">  powered by  <strong>AccessLab</strong> </a>
                </li>
				
				</div>
                <li class="nav-item">

                </li>
            </ul>
			

        </nav>



         <div class="page-wrapper chiller-theme sidebar-bg bg1 ">

            <div id="map-container">
			
			
			
			
			 <div id="floating-panel">
			 
				 <div class="container h-100">
				  <div class="d-flex justify-content-center h-100">
					<div class="searchbar">
				  <input class="search_input" type="text" name=""  id="address"  placeholder="Αναζήτησε Οδό, Αριθμό, Περιοχή"  >
				   <a id="test" onclick="codeAddress();" class="search_icon" ><i class="fas fa-search"></i></a>
				</div>
			  </div>
			</div>
			</div>
				
			 
			<!--- 
			 <div id="floating-panel">
			  <input id="address" type="textbox" value="Οδός, Αριθμός, Περιοχή">
			  <input type="button" value="Εύρεση" onclick="codeAddress1()">	 
			 </div>--->
			 			
                <div id="map" ></div>
	

				
			
				
				
				<!---<div id="feature_infos" >
				
				<button class="close" onclick="document.getElementById('feature_infos').style.display='none'" >x</button>
			
				 <span id="info" > </span>
					<span id="info1" > </span> 
				
				
				</div>	--->

				
				<div id="page">
				
				
			<div id="panel_float">
			  <input id="address1" type="textbox" value="Sydney, NSW">
			  <input type="button" id="code1" value="place A">
			  <input id="address2" type="textbox" value="Sydney, NSW">
			  <input type="button" id="code2" value="place B" >
			 </div>
			 
			 <script>
				 </script>
				
			  <div class="container">
			  
			  <div class="body">
			 
			  <button type="button" class="close" aria-label="Close" onclick="document.getElementById('page').style.display='none'" >
			  <span aria-hidden="true">&times;</span>
			</button>
				<p>
				   <span id="info" > </span><br>
				  <span id="info1" > </span> 
				</p>
			  </div>
			   
			</div>
					</div>		
				
	
                <div id='image_X' class="image">
                    <img src=""  alt="" id='' >
                </div>
            </div>

            <a id="show-sidebar" class="btn btn-sm btn-dark " href="#">
                <i class="fas fa-bars"></i>
            </a>
            <nav id="sidebar" class="sidebar-wrapper">
                <div class="sidebar-content">
                    <!-- sidebar-brand  -->
                    <div class="sidebar-brand">
                        <a href="#">ΜΕΝΟΥ</a>
                        <div id="close-sidebar">
                            <i class="fas fa-times"></i>
                        </div>
                    </div>
					<!--<div class=" d-lg-none d-xl-none">
					   <div class="sidebar-search ">
           <div>
          <div class="input-group">
            <input type="text"  class="form-control search-menu" placeholder="Αναζήτησε Οδό">
            <div class="input-group-append">
              <span class="input-group-text">
                <i  class="fa fa-search" aria-hidden="true"></i>
              </span>
            </div>
          </div>
        </div>
      </div>
	  </div>--->


                    <div class="sidebar-menu">
                        <ul>
                            <li class="header-menu">
                                <span>Γενικά</span>
                            </li>
                            

                            <li class="sidebar-dropdown">
                                <a href="#">
                                    <i class="fas fa-expand"></i>
                                    <span>Δήμοι</span>
                                </a>
                                <div class="sidebar-submenu">
                                    <ul>

                                        <!--  <li>
  
                                              <a href="#" id="locate-position">  <i class="fas fa-street-view"> </i> Geolocation</a> 
  
                                          </li> -->
                                       
                                        <li>
                                            <a href="#" id="moschato_1"> Δήμος Μοσχάτου-Ταύρου </a> 
                                        </li>
                                        <li>
                                            <a href="#" id="alimos_1">Δήμος Αλίμου</a> 
                                        </li>
                                    </ul>
                                </div>
                            </li>
							
							<li class="sidebar-dropdown">
                                <a href="#">
                                    <i class="fa fa-layer-group"></i>
                                    <span>Δεδομένα</span>
                                </a>
                                <div class="sidebar-submenu">
                                    <ul>

                                        <li>
                                            <input type="checkbox" id="box-1" checked="checked">
                                            <label for="box-1">Ράμπες</label>
                                        </li>

                                        <li>
                                            <input type="checkbox" id="box-2" checked="checked">
                                            <label for="box-2">Πεζοδρόμια</label>
                                        </li>
										
										 <li>
                                            <input type="checkbox" id="box-4" checked="checked">
                                            <label for="box-4">Διαβάσεις</label>
                                        </li>
										 <li>
                                            <input type="checkbox" id="box-5" checked="checked">
                                            <label for="box-5">Όρια Δήμων</label>
                                        </li>

                                        <li>
                                            <input type="checkbox" id="box-3" checked="checked">
                                            <label for="box-3">Σημεία Ενδιαφέροντος</label>
                                        </li>


                                    </ul>
                                </div>
                            </li>
							
							  <li class="sidebar-dropdown">
                                <a href="#">
                                   <i class="fas fa-directions"></i>
                                    <span>Πλοήγηση</span>
                                </a>
                                <div class="sidebar-submenu">
                                    <ul>

                                        <!--  <li>
  
                                              <a href="#" id="locate-position">  <i class="fas fa-street-view"> </i> Geolocation</a> 
  
                                          </li> -->
                                         
                                        <li>
								
                                           <a href="#" id="nav_2">Δήμος Μοσχάτου-Ταύρου</a> 
                                        </li>
                                        <li>
										
                                            <a href="#" id="nav_3">Δήμος Αλίμου</a> 
                                        </li>
                                    </ul>
                                </div>
                            </li>
							
							
							
							
                            <li class="sidebar-dropdown">
                                <a href="#">
                                    <i class="fa fa-chart-line"></i>
                                    <span>Στατιστικά</span>
                                </a>
                                <div class="sidebar-submenu">
                                    <ul>
                                        <li>
                                            <a href="#centralModal2" data-toggle="modal" >Αξιολόγηση Πεζοδρομίων Μοσχάτου</a>
                                        </li>
										  <li>
                                            <a href="#centralModal1" data-toggle="modal">Αξιολόγηση Πεζοδρομίων Αλίμου</a>
                                        </li>
										
                                    </ul>
                                </div>
                            </li>
                            <li class="sidebar-dropdown">
                                <a href="#">
                                    <i class="fa fa-globe"></i>
                                    <span>Υπόβαθρα</span>
                                </a>
                                <div class="sidebar-submenu">
                                    <ul>

                                        <li>

                                            <input type="checkbox" id="map_1"  class="map"  onclick="selectOnlyThis(this.id)" checked="checked">
                                            <label for="map_1"> Navigation </label>
                                        </li>
                                       <!--   <li>

                                            <input type="checkbox" id="map_3"  class="map"  onclick="selectOnlyThis(this.id)" >
                                            <label for="map_3">Σκάλα γκρι</label>

                                        </li> -->

                                       <li>


                                            <input type="checkbox" id="map_2"  class="map" onclick="selectOnlyThis(this.id)">
                                            <label for="map_2">Δορυφορικό</label>
                                        </li>


                                    </ul>
                                </div>
                            </li>
                            <li class="header-menu" >
                                <span>Επιπλέον</span>
                            </li>
                            <li>
                                <a href="#centralModal" data-toggle="modal">
                                    <i class="fa fa-book" ></i>
                                    <span>Περιγραφή</span>
                                </a>
                            </li>
							
							 <li>
                                <a href="#centralModal3" data-toggle="modal">
                                    <i class="fas fa-book-reader"></i>
                                    <span>Οδηγίες χρήσης</span>
                                </a>
                            </li>
                            <li>

                                <a href="#" id="printableArea" onclick="print_current_page()" > <i class="fa fa-print" > </i> Εκτύπωση </a> 

                            </li>
							
							 <li>
                                <a href="#centralModal4" data-toggle="modal">
                                    <i class="fa fa-download" aria-hidden="true"></i>
                                    <span>Μεταφόρτωση</span>
                                </a>
                            </li>
						    <li>
                                <a data-toggle="modal" data-target="#modalContactForm">
                                    <i class="far fa-comment-dots"></i>
                                    <span>Σχόλια</span>
                                </a>
								
						
                            </li>
                        </ul>
                    </div>
                    <!-- sidebar-menu  -->
                </div>
                <!-- sidebar-footer  -->
                <div class="sidebar-footer">
                    <div class="dropdown">

                        <a href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="fa fa-bell"></i>
                            <span class="badge badge-pill badge-warning notification">3</span>
                        </a>
                        <div class="dropdown-menu notifications" aria-labelledby="dropdownMenuMessage">
                            <div class="notifications-header">
                                <i class="fa fa-bell"></i>
                                Notifications
                            </div>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">
                                <div class="notification-content">
                                    <div class="icon">
                                        <i class="fas fa-check text-success border border-success"></i>
                                    </div>
                                    <div class="content">
                                        <div class="notification-detail">Lorem ipsum dolor sit amet consectetur adipisicing
                                            elit. In totam explicabo</div>
                                        <div class="notification-time">
                                            6 minutes ago
                                        </div>
                                    </div>
                                </div>
                            </a>
                            <a class="dropdown-item" href="#">
                                <div class="notification-content">
                                    <div class="icon">
                                        <i class="fas fa-exclamation text-info border border-info"></i>
                                    </div>
                                    <div class="content">
                                        <div class="notification-detail">Lorem ipsum dolor sit amet consectetur adipisicing
                                            elit. In totam explicabo</div>
                                        <div class="notification-time">
                                            Today
                                        </div>
                                    </div>
                                </div>
                            </a>

                        </div>

                    </div>
            </nav>

        </div>
		
	
		
		<!-- Central Modal Small DESCRIPTION---->
<div  class="modal custom fade" id="centralModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">

  <!-- Change class .modal-sm to change the size of the modal -->
  <div class="modal-dialog modal-lg" role="document" >


    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100" id="myModalLabel">GOSAFE </h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
	  
	  
      <div class="modal-body" >
	  
			<p>   Το <b>GOSAFE</b> είναι μια διαδικτυακή πλατφόρμα GIS με ανοιχτά δεδομένα προσβασιμότητας και κινητικότητας για τους Δήμους Μοσχάτου-Ταύρου και Αλίμου.
                    Ο χρήστης είναι σε θέση να αναζητήσει προσβάσιμες ράμπες και διαδρομές, να μετρήσει μια απόσταση και να αναφέρει ένα εμπόδιο,
                    όπως  η παραβατική στάθμευση.</p>
					
					

			
		</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary"  data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!-- END Central Modal Small DESCRIPTION-->



		<!-- Central Modal Small DOWNLOAD---->
<div  class="modal custom fade" id="centralModal4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">

  <!-- Change class .modal-sm to change the size of the modal -->
  <div class="modal-dialog modal-lg" role="document" >


    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100" id="myModalLabel">ΜΕΤΑΦΟΡΤΩΣΗ </h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
	  
	  
      <div class="modal-body" >
	  
			<p>  Επιλέξτε και μεταφορτώστε τα δεδομένα του Δήμου για τα οποία ενδιαφέρεστε (Τύπος αρχείων geojson).</p>
			<p>Ο χρήστης μπορεί να κατεβάσει τα δεδομένα στον υπολογιστή του και με την χρήση ειδικών προγραμμάτων GIS να τα δει και να τα επεξεργαστεί. </p>
				<p>	<a href="data/moschato.rar">Δήμος Μοσχάτου-Ταύρου</a></p>
				<p>	<a href="data/alimos.rar">Δήμος Αλίμου</a></p>	

			
		</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary"  data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!-- END Central Modal Small DOWNLOAD-->



	<!-- Central Modal Small USE---->
<div  class="modal custom fade" id="centralModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">

  <!-- Change class .modal-sm to change the size of the modal -->
  <div class="modal-dialog modal-lg" role="document" >


    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100" id="myModalLabel">ΟΔΗΓΙΕΣ ΧΡΗΣΗΣ</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
	  
	  
      <div class="modal-body" style="overflow: scroll ;max-height: 250px; ">
	  
			<p> <b>ΒΗΜΑΤΑ</b> </p>
                    
					
						 <p><b>Βήμα 1ο:</b> Ενημέρωση</p>
			<p>Στο πλαίσιο που εμφανίζεται στα αριστερά, 
			ο χρήστης μπορεί να ενημερωθεί για σημεία με προσβάσιμες ράμπες και διαβάσεις,
			 καθώς και για την προσπελασιμότητα των πεζοδρομίων, πατώντας το πλήκτρο «Δεδομένα». 
			 Τα πεζοδρόμια κατηγοριοποιούνται σε προσβάσιμα (πράσινο χρώμα), αποδεκτά (κίτρινο χρώμα) 
			 και μη προσβάσιμα (κόκκινο χρώμα). Στην αξιολόγησή των πεζοδρομίων συνυπολογίζονται το πλάτος τους,
			 η κλίση τους και η εκτίμηση της κατάστασής τους από χρήστη αμαξιδίου. Ο χρήστης μπορεί να εστιάσει 
			 στους Δήμους Μοσχάτου – Ταύρου και Αλίμου, πατώντας το πλήκτρο «Δημοτικές Ενότητες», Επιπλέον, 
			 στον χάρτη του Πόρταλ απεικονίζονται προσβάσιμες δημοτικές υπηρεσίες, όπως δημαρχεία, 
			 ΚΕΠ, αθλητικές εγκαταστάσεις κ.α.. Τέλος, στο πλήκτρο «στατιστικά» εμφανίζονται δεδομένα 
			 για την προσβασιμότητα των πεζοδρομίων στους δύο δήμους.</p>
			<p><b>Βήμα 2ο:</b> Πλοήγηση</p>
			<p>Το πόρταλ παρέχει στον χρήστη τη δυνατότητα αναζήτησης μίας προσβάσιμης διαδρομής
			 για την πεζή μετακίνησή του πατώντας το πλήκτρο «Πλοήγηση» και ύστερα τοποθετώντας το μωβ 
			 και το γαλάζιο σύμβολο στα σημεία που επιθυμεί στον χάρτη. Η εφαρμογή εμφανίζει τη συντομότερη (χρώμα μωβ)
			 και την ασφαλέστερη (χρώμα γαλάζιο) διαδρομή μέσω προσβάσιμων ραμπών, πεζοδρομίων και διαβάσεων.
			 Πρόκειται για εφαρμογή δρομολόγησης με απλή και εύχρηστη λειτουργία μέσω επιλογής σημείου εκκίνησης και προορισμού.</p>
			<p><b>Βήμα 3ο:</b>  Συμμετοχή</p>
			<p>Ο χρήστης μπορεί να συμμετέχει ενεργά στη διαμόρφωση του αστικού περιβάλλοντος 
			και στις διαδικασίες λήψης αποφάσεων. Πατώντας το πλήκτρο με το «θαυμαστικό» κάτω δεξιά 
			και μετά σε ένα σημείο στον χάρτη, ο χρήστης μπορεί να δηλώσει κάποιο εμπόδιο που συναντά στη μετακίνησή του,
			 όπως η παραβατική στάθμευση ή οι φθορές σε ράμπες και πεζοδρόμια. Πατώντας στο πλήκτρο «Σχόλια», 
			 ο χρήστης μπορεί να επικοινωνήσει μαζί μας και να προτείνει κάποια αστική παρέμβαση για τη βελτίωση της προσβασιμότητας στους Δήμους, 
			 αλλά και τρόπους να αναβαθμίσουμε τις λειτουργίες της πλατφόρμας.</p>

			
		</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary"  data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!-- END Central Modal Small USE-->




<!-- Central Modal large CHARTS-->
<div class="modal fade" id="centralModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">

  <!-- Change class .modal-sm to change the size of the modal -->
  <div class="modal-dialog modal-lg" role="document">


    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100" id="myModalLabel">ΔΙΑΓΡΑΜΜΑ ΑΞΙΟΛΟΓΗΣΗΣ ΠΕΖΟΔΡΟΜΙΩΝ ΑΛΙΜΟΥ</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="container1"  >
	  
           
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!--END Central Modal  CHARTS -->


<!-- Central Modal large CHARTS-->
<div class="modal fade" id="centralModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">

  <!-- Change class .modal-sm to change the size of the modal -->
  <div class="modal-dialog modal-lg" role="document">


    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100" id="myModalLabel">ΔΙΑΓΡΑΜΜΑ ΑΞΙΟΛΟΓΗΣΗΣ ΠΕΖΟΔΡΟΜΙΩΝ ΜΟΣΧΑΤΟΥ</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="container2" >
	  
           
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<!--END Central Modal  CHARTS -->



		
		<!--WARNING START PAGE-->
	



		
		<div class="modal fade"class="modal hide" data-backdrop="static" data-keyboard="false" id="ModalWarning" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-notify modal-info " role="document">
  
    <!--Content-->
    <div class="modal-content">
      <!--Header-->
      <div class="modal-header">
        <p class="heading">ΠΡΟΣ ΕΝΗΜΕΡΩΣΗ ΣΑΣ</p>
      </div>

      <!--Body-->
      <div class="modal-body">

        <div class="row">
          <div class="col-3 text-center">
            <img src="img/access_logo.png" alt="IMG of Avatars"
              class="img-fluid z-depth-1-half rounded-circle">
            <div style="height: 10px"></div>
            <p class="title mb-0">Η ομάδα</p>
            <p class="text-muted " style="font-size: 13px">accesslab</p>
          </div>

          <div class="col-9">
            <p> 
			H διαχείριση και προστασία των προσωπικών δεδομένων του χρήστη της εφαρμογής διέπεται από τις διατάξεις 
			της κείμενης νομοθεσίας αναφορικά με την προστασία δεδομένων προσωπικού χαρακτήρα, τις αποφάσεις της αρμόδιας Αρχής
			και τους παρόντες όρους.Tο έργο αφοσιώνεται στην προστασία της εμπιστευτικότητας και της ιδιωτικότητας των πληροφοριών που παρέχονται και
			συμμορφώνεται με την ισχύουσα νομοθεσία (GDPR – EU 2016/679). 
           </p>
            <p class="card-text"><strong>Ενημέρωση για την Προστασία Προσωπικών Δεδομένων</strong></p>
          </div>
        </div>
      </div>

      <!--Footer-->
       <div class="modal-footer justify-content-center">
        <a type="button" class="btn btn-outline-info waves-effect" data-dismiss="modal">ΑΠΟΔΕΧΟΜΑΙ</a>
		<select onchange="location = this.options[this.selectedIndex].value;">
			 <option>Language/Γλώσσα</option>
			<option value="https://gosafe.gov.gr/index_en.html">English</option>
		</select>​
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>
<!-- Central Modal Warning Demo-->


		
<!--END------WARNING START PAGE-->

		
		
	<!-- section contact form -->
			
			<div class="modal fade" id="modalContactForm"  tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
		  aria-hidden="true">
		  <div class="modal-dialog" role="document">
			<div class="modal-content">
			  <div class="modal-header text-center">
				<h4 class="modal-title w-100 font-weight-bold">Αφήστε μας το σχόλιο σας</h4>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				  <span aria-hidden="true">&times;</span>
				</button>
			  </div>
			  
			<form id ="contact-form" name="contact-form" action="contactmail/contact_mail.php" method="POST">
			  <div class="modal-body mx-3">
				<div class="md-form mb-5">
				  <i class="fas fa-user prefix grey-text"></i>
				  <input type="text" id="name" name="name" class="form-control validate" placeholder="Όνομα">
				</div>

				<div class="md-form mb-5">
				  <i class="fas fa-envelope prefix grey-text"></i>
				  <input type="email" id="email" name="email"  class="form-control validate" placeholder="Ηλεκτρονική διεύθυνση">
				 
				</div>

				<div class="md-form mb-5">
				  <i class="fas fa-tag prefix grey-text"></i>
				  <input type="text" id="subject" name="subject" class="form-control validate" placeholder="Θέμα">
				</div>

				<div class="md-form">
				  <i class="fas fa-pencil prefix grey-text"></i>
				  <textarea type="text" id="message" name="message" class="md-textarea form-control" rows="4" placeholder="Το μήνυμα σας"></textarea>
				</div>
				
			  </div>  
		 </form>
		 
		 
      <!--   <div class="row my-3 d-flex justify-content-center">
          <!--Facebook-->
          <!--   <button type="button" onclick=" relocate_fb()"class="light-blue-text mx-2"><i class="fab fa-facebook-f text-center"></i></button>
          <!--Instagram-->
          <!--   <button type="button" onclick=" relocate_insta()" class="light-blue-text mx-2"><i class="fab fa-instagram"></i></button>
		  
        </div> -->

			   
			  <div class="modal-footer d-flex justify-content-center">
				<button type="submit" value="submit"  onclick="validateForm()" class="btn btn-primary"  >Αποστολη <i class="fas fa-paper-plane-o ml-1"> </i> </button>
			  </div> <div class="status" id="status"></div>
			</div>
      </div>
		  </div>
		</div>



	   <script>
	   
	   
		
	
            var mapopts = {zoomControl: false,
                //      zoomSnap: 0.1
            };

            var map = L.map('map', mapopts).setView([37.932264, 23.728112], 13);


		

			/*  var grayscale = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                
                bounds: [[34.582435, 18.769232], [42.206741, 29.918491]]
            }).addTo(map);
		
			*/


			var grayscale = L.tileLayer('https://api.mapbox.com/styles/v1/kiousisp/ck0caeu773vzu1cnohjne5evj/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoia2lvdXNpc3AiLCJhIjoiY2swY2EwODZnMHp1NTNjcGVoeHFienVydCJ9.oeQ42AwDeTTJkbpB9LFE_Q', {
                maxZoom: 19,
                
                bounds: [[34.582435, 18.769232], [42.206741, 29.918491]],
				crossOrigin: true
            }).addTo(map);
			

		
	

			/* var roadMutant = L.gridLayer.googleMutant({
                maxZoom: 19,
                type: 'roadmap',
                styles: [
                    {
                        featureType: 'poi.business',
                        elementType: 'labels',
                        stylers: [{visibility: 'off'}]
                    },
                    {
                        featureType: 'poi.school',
                        elementType: 'labels',
                        stylers: [{visibility: 'off'}]
                    }
                ],
            });*/


            /*   var satMutant = L.gridLayer.googleMutant({
             maxZoom: 24,
             type: 'satellite'
             });
             */

	
				mapboxgl.accessToken = 'pk.eyJ1Ijoia2lvdXNpc3AiLCJhIjoiY2swY2EwODZnMHp1NTNjcGVoeHFienVydCJ9.oeQ42AwDeTTJkbpB9LFE_Q';
             var mapbox = new mapboxgl.Map({
             container: 'map',
             style: 'mapbox://styles/kiousisp/ck0ca2vc905wx1cnycx3rbpdz',
             zoom: 9.0
             });
			 
			mapboxgl.accessToken = 'pk.eyJ1Ijoia2lvdXNpc3AiLCJhIjoiY2swY2EwODZnMHp1NTNjcGVoeHFienVydCJ9.oeQ42AwDeTTJkbpB9LFE_Q';
             var mapbox2 = new mapboxgl.Map({
             container: 'map',
             style: 'mapbox://styles/kiousisp/ck0caeu773vzu1cnohjne5evj',
             zoom: 9.0
             });
	
			
			
			var satmap =  L.tileLayer('https://api.mapbox.com/styles/v1/kiousisp/ck0ca2vc905wx1cnycx3rbpdz/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoia2lvdXNpc3AiLCJhIjoiY2swY2EwODZnMHp1NTNjcGVoeHFienVydCJ9.oeQ42AwDeTTJkbpB9LFE_Q', {
                maxZoom: 19,
                bounds: [[34.582435, 18.769232], [42.206741, 29.918491]]
				
				

            });
			
			


			/*   var trafficMutant = L.gridLayer.googleMutant({
                maxZoom: 19,
                type: 'roadmap',
                styles: [
                    {
                        featureType: 'poi.business',
                        elementType: 'labels',
                        stylers: [{visibility: 'off'}]
                    },
                    {
                        featureType: 'poi.school',
                        elementType: 'labels',
                        stylers: [{visibility: 'off'}]
                    }
                ],
            });
            trafficMutant.addGoogleLayer('TrafficLayer');
            mapLink =
                    '<a href="http://www.esri.com/">Esri</a>';
            wholink =
                    'i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community';

			*/
				/* var BING_KEY = 'Ats4LEN1nXu7IqfIB_aprtcgdPNA4DHnp5G154kAGBa6VZapaW8pTy7PgrXDIH0a'
				 var imagerySet = "AerialWithLabels";
				 var satmap = L.tileLayer.bing('Ats4LEN1nXu7IqfIB_aprtcgdPNA4DHnp5G154kAGBa6VZapaW8pTy7PgrXDIH0a',
				 {type: imagerySet},
				 maxZoom: 19);
			*/
			
			/*   var satmap = L.tileLayer(
                    'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
                        maxZoom: 19
						
                    });

					*/
				

/*
            var gray = L.layerGroup();
           L.tileLayer('https://api.mapbox.com/styles/v1/foxi21/cjvck03w00ex51fldjobiy1ua/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZm94aTIxIiwiYSI6ImNqMjBoOXc5aDAwM2gzNGxudXp4MmxodDYifQ.YkAssG0AYOhh2xSGtvBgQA', {
                maxZoom: 30,
                minZoom: 10,
                bounds: [[34.582435, 18.769232], [42.206741, 29.918491]]

            }).addTo(gray);


*/

			///////////////////OFFLINE////////////////////////

					


            var baseLayers = {
               // "Traffic": mapbox,
                /* "Satellite": L.gridLayer.googleMutant({type: 'satellite', styles: [
                 {elementType: 'labels', stylers: [{visibility: 'off'}]},
                 {featureType: 'water', stylers: [{color: '#444444'}]}
                 ]
                 }),*/
                "Satellite":satmap,
                "Roadmap": grayscale
,
				
            };

			
			
			
	

            //PIE

			
			///////////////////chart Alimos
			   $(function () {

                Highcharts.setOptions({
                    colors: ['#5cd65c', '#ffa64d', '#ff4d4d']
                });
                var chart = new Highcharts.Chart({
                    title: {
                        text: 'Ποσοστό προσβάσιμων πεζοδρομίων 38%'
                    },
                    chart: {
                        renderTo: 'container1',
                        type: 'pie',
                        backgroundColor: 'none',
                    },
                    plotOptions: {
                        pie: {
                            innerSize: '60%'
                        }
                    },
                    series: [{
                            name: 'Πεζοδρόμια',
                            data: [
                                ['Προσβάσιμα', 326],
                                ['Αποδεκτά προσβάσιμα', 640],
                                ['Μη προσβάσιμα', 1592],
                            ]}]
                },
                function (chart) { // on complete
                    var textX = chart.plotLeft + (chart.plotWidth * 0.5);
                    var textY = chart.plotTop + (chart.plotHeight * 0.5);

                    var span = '<span id="pieChartInfoText1" style="position:absolute; text-align:center;">';
                    span += '<span style="font-size: 32px">38%</span><br>';
                    span += '<span style="font-size: 16px">Προσβάσιμα</span>';
                    span += '</span>';

                    $("#addText1").append(span);
                    span = $('#pieChartInfoText1');
                    span.css('left', textX + (span.width() * -0.3));
                    span.css('top', textY + (span.height() * -0.2));
                });
            });
			
			
			///////////////////chart Moschato
			
			   $(function () {

                Highcharts.setOptions({
                    colors: ['#5cd65c', '#ffa64d', '#ff4d4d']
                });
                var chart = new Highcharts.Chart({
                    title: {
                        text: 'Ποσοστό προσβάσιμων πεζοδρομίων 67%'
                    },
                    chart: {
                        renderTo: 'container2',
                        type: 'pie',
                        backgroundColor: 'none',
                    },
                    plotOptions: {
                        pie: {
                            innerSize: '60%'
                        }
                    },
                    series: [{
                            name: 'Πεζοδρόμια',
                            data: [
                                ['Προσβάσιμα', 578],
                                ['Αποδεκτά προσβάσιμα', 501],
                                ['Μη προσβάσιμα', 711],
                            ]}]
                },
                function (chart) { // on complete
                    var textX = chart.plotLeft + (chart.plotWidth * 0.5);
                    var textY = chart.plotTop + (chart.plotHeight * 0.5);

                    var span = '<span id="pieChartInfoText2" style="position:absolute; text-align:center;">';
                    span += '<span style="font-size: 32px">67%</span><br>';
                    span += '<span style="font-size: 16px">Προσβάσιμα</span>';
                    span += '</span>';

                    $("#addText2").append(span);
                    span = $('#pieChartInfoText2');
                    span.css('left', textX + (span.width() * -0.0));
                    span.css('top', textY + (span.height() * -0.3));
                });
            });
			
				///END OF CHARTS
				
				


            function restylemap(feature, hazard) {


                if (feature.properties.vathmos < "0.2990") {
                    return {
                        opacity: 0.5,
                        color: '#ff4d4d'
                    };
                }
                else if (feature.properties.vathmos < "0.6999") {
                    return {
                        opacity: 0.5,
                        color: '#ffd800'

                    };
                }
                else {
                    return {
                        opacity: 0.5,
                        color: '#66ff66'

                    };
                }
            }

            function restylemap2(feature, hazard) {


                if (feature.properties.final_esti < "3") {
                    return {
                        opacity: 0.5,
                        color: '#ff4d4d'
                    };
                }
                else if (feature.properties.final_esti < "7") {
                    return {
                        opacity: 0.5,
                        color: '#ffd800'

                    };
                }
                else {
                    return {
                        opacity: 0.5,
                        color: '#66ff66'

                    };
                }
            }

            function restylemap3(feature, hazard) {


                if (feature.properties.VATHMOS_1 < "3") {
                    return {
                        opacity: 0.5,
                        color: '#ff4d4d'
                    };
                }
                else if (feature.properties.VATHMOS_1 < "7") {
                    return {
                        opacity: 0.5,
                        color: '#ffd800'

                    };
                }
                else {
                    return {
                        opacity: 0.5,
                        color: '#66ff66'

                    };
                }
            }



            function restylediktio(feature, hazard) {


                if (feature.properties.Τύπος == "Πεζόδρομος") {
                    return {
                        color: '#008000',
                        stroke: false
                    };
                }
                else if (feature.properties.Τύπος == "Δρόμος") {
                    return {
                        fillOpacity: .50,
                        color: '#595959',
                        stroke: false

                    };
                }

                else {
                    return {
                        fillOpacity: .0,
                        color: '',
                        stroke: false


                    };
                }
            }
			
			
			
			function style_diavaseis(feature) {
			return {
                weight: 5,
                opacity: .7,
                lineJoin: 'round',
				 dashArray: '1,10'
            };
				}



            function style1(feature) {
                switch (String(feature.properties['estimation'])) {
                    case '1':
                        return {
                            iconUrl: 'img/ramp.png',
                            radius: 7.0,
                            opacity: 1,
                            color: 'rgba(0,0,0,0.960784)',
                            dashArray: '',
                            lineCap: 'butt',
                            lineJoin: 'miter',
                            weight: 0.1,
                            fill: true,
                            fillOpacity: 0.7,
                            fillColor: 'rgba(204,58,28,0.960784)',
                        }
                        break;
                    case '2':
                        return {
                            radius: 7.0,
                            opacity: 1,
                            color: 'rgba(0,0,0,0.960784)',
                            dashArray: '',
                            lineCap: 'butt',
                            lineJoin: 'miter',
                            weight: 0.1,
                            fill: true,
                            fillOpacity: 0.7,
                            fillColor: 'rgba(246,209,22,0.960784)',
                        }
                        break;
                    case '3':
                        return {
                            radius: 7.0,
                            opacity: 1,
                            color: 'rgba(0,0,0,1.0)',
                            dashArray: '',
                            lineCap: 'butt',
                            lineJoin: 'miter',
                            weight: 0.1,
                            fill: true,
                            fillOpacity: 0.7,
                            fillColor: 'rgba(20,127,59,1.0)',
                        }
                        break;
                    default:
                        return {
                            radius: 7.0,
                            opacity: 1,
                            color: 'rgba(0,0,0,1.0)',
                            dashArray: '',
                            lineCap: 'butt',
                            lineJoin: 'miter',
                            weight: 1,
                            fill: true,
                            fillOpacity: 1,
                            fillColor: 'rgba(225,123,189,1.0)',
                        }
                }

            }


				function oria(feature) {
					return {
						 weight: 5,
						lineCap: 'square', // Optional, just to avoid round borders.
						color: 'black',
						dashArray: '15,10',
						fillOpacity: 0
					};
				}
				
				
         

            var pois_moscha = new L.geoJson(pois_moscha, {
                attribution: '<a href=""></a>',
				pane: 'pane750',
                // onEachFeature: pop4,
                pointToLayer: function (feature, latlng) {

                    var rampicon = L.icon({
                        iconUrl: 'img/pois_moschato/' + feature.properties.name + '.png',
                        iconSize: [45, 50],
                    });

                    return L.marker(latlng, {icon: rampicon});
                },
            });
			
            pois_moscha.on("click", function (evt) {
                var content = evt.layer.feature.properties.name;
                var win = L.control.window(map, {title: 'Πληροφορίες', maxWidth: 500, modal: true})
                        .content(content)

                        .show()
            })




            map.addLayer(pois_moscha);




            var pois_alimos = new L.geoJson(pois_alimos, {
                attribution: '<a href=""></a>',
				pane: 'pane750',
                // onEachFeature: pop4,
                pointToLayer: function (feature, latlng) {

                    var rampicon = L.icon({
                        iconUrl: 'img/pois_alimos/' + feature.properties.name + '.png',
                        iconSize: [45, 50],
                    });

                    return L.marker(latlng, {icon: rampicon});
                },
            });
			
			
            pois_alimos.on("click", function (evt) {
                var content = evt.layer.feature.properties.name;
                var win = L.control.window(map, {title: 'Λεπτομέρειες', maxWidth: 400, modal: true})
                        .content(content)

                        .show()
            })

            map.addLayer(pois_alimos);


            var markers = L.markerClusterGroup({
                maxClusterRadius: 100,
                polygonOptions: true,
                iconCreateFunction: function (cluster) {
                    var count = cluster.getChildCount();

                    // figure out how many digits long the number is
                    var digits = (count + '').length;


                    return new L.divIcon({
                        html: count,
                        className: 'cluster digits-' + digits,
                        iconSize: null
                    });
                },
                //Disable all of the defaults:
                spiderfyOnMaxZoom: true, showCoverageOnHover: true, zoomToBoundsOnClick: true

            });



          

            var rabes_m2 = new L.geoJson(rampes_moschato, {
                attribution: '<a href=""></a>',
                //onEachFeature: pop1,
                pointToLayer: function (feature, latlng) {
                    var context = {
                        feature: feature,
                        variables: {}
                    };
                    /*  return L.circleMarker(latlng, {
                     radius: 5,
                     fillColor: "black",
                     color: "black"
                     });
                     
                     */
                    var rampicon = L.icon({
                        iconUrl: 'img/ramp21.png',
                        iconSize: [30, 30],
                    });

                    return L.marker(latlng, {icon: rampicon});

                },
            });
            // map.addLayer(rampes);

            markers.addLayer(rabes_m2);

            map.addLayer(markers);


            var rabes_m3 = new L.geoJson(rampes_alimos, {
                attribution: '<a href=""></a>',
                //onEachFeature: pop1,
                pointToLayer: function (feature, latlng) {
                    var context = {
                        feature: feature,
                        variables: {}
                    };
                    /*  return L.circleMarker(latlng, {
                     radius: 5,
                     fillColor: "black",
                     color: "black"
                     });
                     
                     */
                    var rampicon = L.icon({
                        iconUrl: 'img/ramp21.png',
                        iconSize: [30, 30],
                    });

                    return L.marker(latlng, {icon: rampicon});

                },
            });
            // map.addLayer(rampes);

            markers.addLayer(rabes_m3);

            map.addLayer(markers);
			
			
			
			map.createPane('labels');
			map.getPane('labels').style.zIndex = 250;
			map.createPane("pane700").style.zIndex = 750;
			map.createPane("pane750").style.zIndex = 700;
			map.createPane("pane800").style.zIndex = 650;
			map.createPane("pane150").style.zIndex = 200;
			map.createPane("pane100").style.zIndex = 150;
			
			
			
			
			function getColor(d) {
				return d === 'Προσβάσιμα'  ? "#66ff66" :
					   d === 'Αποδεκτά Προσβάσιμα'  ? "#ffd800" :
					   d === 'Μη Προσβάσιμα' ? "#ff4d4d" :
					
									"#ff7f00";
			}

		 
					
					var legend = L.control({position: 'bottomright'});
			legend.onAdd = function (map) {

			var div = L.DomUtil.create('div', 'info legend');
			labels = ['<strong>Πεζοδρόμια</strong>'],
			categories = ['Προσβάσιμα','Αποδεκτά Προσβάσιμα','Μη Προσβάσιμα'];

			for (var i = 0; i < categories.length; i++) {

					div.innerHTML += 
					labels.push(
						'<i class="circle" style="background:' + getColor(categories[i]) + '"></i> ' +
					(categories[i] ? categories[i] : '+'));

				}
				div.innerHTML = labels.join('<br>');
			return div;
			};
			legend.addTo(map);		
					
			
		
			

			var oria_alimos = L.geoJSON(oria_alimos, {
						// onEachFeature: pop2,
						style: oria,
						pane: 'labels'
					}).addTo(map);
				
					
			var oria_moschato = L.geoJSON(oria_moschato, {
						// onEachFeature: pop2,
						style: oria,
						pane: 'labels'
					}).addTo(map);	
					




            var pezodromia2 = L.geoJSON(moschato, {
                // onEachFeature: pop2,
				pane: 'pane150',
                style: restylemap2
            }).addTo(map);

            var pezodromia3 = L.geoJSON(alimos, {
                // onEachFeature: pop2,
				pane: 'pane150',
                style: restylemap3
            }).addTo(map);

			
			  var diavaseis_1 = L.geoJSON(diavaseis_alimos, {
                // onEachFeature: pop2,
				style: style_diavaseis
            }).addTo(map);
			
			 var diavaseis_2 = L.geoJSON(diavaseis_moschato, {
                // onEachFeature: pop2,
				style: style_diavaseis
            }).addTo(map);

            L.control.zoom({
                position: 'topright',
				
                    zoomInTitle: "Μεγένθυση",
					zoomOutTitle: "Σμίκρυνση"
					
               
            }).addTo(map);

           /* var options = {
                position: 'topright',
				title: 'Δήλωσε ένα εμπόδιο',
                lengthUnit: {
                    factor: 1000, //  from km to nm
                    display: 'Meters',
                    decimal: 2,
                    label: 'Distance:'
					
                }
				
            };
            L.control.ruler(options).addTo(map);*/


            var attention = L.icon({
                iconUrl: 'img/pin_marker.png',
                //shadowUrl: 'img/obstacle.png',
                iconSize: [38, 38], // size of the icon
                //shadowSize: [50, 64], // size of the shadow
                // iconAnchor: [22, 94], // point of the icon which will correspond to marker's location
                shadowAnchor: [4, 62], // the same for the shadow
                // popupAnchor: [-3, -76] // point from which the popup should open relative to the iconAnchor
            });
            L.DrawToolbar.include({
                getModeHandlers: function (map) {
                    return [
                        {
                            enabled: true,
                            handler: new L.Draw.Marker(map, {icon: attention}),
                            title: 'Δήλωσε ένα εμπόδιο: Πατώντας το πλήκτρο με το «θαυμαστικό» και μετά σε ένα σημείο στον χάρτη, μπορείς να δηλώσεις ένα εμπόδιο που συναντάς στη μετακίνησή σου, όπως η παραβατική στάθμευση ή οι φθορές σε ράμπες και πεζοδρόμια.'

                        }

                    ];
                }
            });
			
			L.drawLocal.draw.toolbar.actions.text = "Άκυρο";
			
			L.drawLocal.edit.toolbar.buttons.editDisabled = "Δεν υπάρχει εμπόδιο για επεξεργασία";
			L.drawLocal.edit.toolbar.buttons.removeDisabled = "Δεν υπάρχει εμπόδιο για διαγραφή";
			L.drawLocal.edit.toolbar.buttons.remove = "Διαγραφή";
			L.drawLocal.edit.handlers.remove.tooltip.text = "Επέλεξε το εμπόδιο που ήθελες να διαγράψεις";
			
			L.drawLocal.edit.toolbar.actions.save.text = "Αποθήκευση";
			L.drawLocal.edit.toolbar.actions.cancel.text = "Άκυρο";
			L.drawLocal.edit.toolbar.actions.clearAll.text = "Διέγραψε τα όλα";
			L.drawLocal.edit.toolbar.buttons.edit = "Επεξεργάσου τα σημεία";
			
		   L.drawLocal.edit.handlers.edit.tooltip.text = "Σύρετε τα άκρα ή τα σημεία για να επεξεργαστείτε τις λειτουργίες";
		     L.drawLocal.edit.handlers.edit.tooltip.subtext = "Επέλεξε άκυρο για na αναιρέσετε τις αλλαγές";
	
		  L.drawLocal.draw.handlers.marker.tooltip.start = "'Κλίκαρε' για να τοποθετήσεις το εμπόδιο στο σημείο που παρατηρήθηκε";
		  
		  
            var drawnItems = L.featureGroup().addTo(map);
            var drawControl = new L.Control.Draw({
                position: 'bottomright',
                draw: {
                    polygon: false,
                    rectangle: false,
                    polyline: false,
                    circle: false,
                },
                edit: {

                    featureGroup: drawnItems
                }
            }).addTo(map);
			
            map.addControl(drawControl);
			
			
			
            map.on('draw:created', function (e) {
                var coords = e.layer._latlng;
                console.log(coords);
				
						var geocoder = new google.maps.Geocoder;
		var latlng = {lat: parseFloat(e.layer._latlng.lat), lng: parseFloat(e.layer._latlng.lng)};
    
        geocoder.geocode({'location': latlng}, function(results, status) {
          if (status === 'OK') {
            if (results[0]) {
              console.log(results[0].formatted_address);
				var info = results[0].formatted_address;
				console.log(info);
				document.getElementById('info1').value = info;
				
				
            } else {
              window.alert('No results found');
			  
            }
          } else {
            window.alert('Geocoder failed due to: ' + status);
          }
        });
			
			
			
	      var tempMarker = drawnItems.addLayer(e.layer);
                var popupContent = '<form   role="form" id="form" action="" accept-charset="utf-8" method="post" enctype="multipart/form-data" class = "form-horizontal" onsubmit="addMarker()">' +
                        '<div class="form-group">' +
                        '<label class="control-label col-sm-5"><strong>Ημερομηνία: </strong></label>' +
                        '<input type="date" placeholder="Required" id="date" name="date" class="form-control" required/>' +
                        '</div>' +
						 '<div class="form-group">' +
                        '<label class="control-label col-sm-5"><strong>Δήμος: </strong></label>' +
                        '<select class="form-control" id="mun" name="mun" required>' +
                        '<option value="moschato">Δήμος Μοσχάτου-Ταύρου</option>' +
                        '<option value="alimos">Δήμος Αλίμου</option>' +
                        '</select>' +
                        '</div>' +
				
						 '<div class="form-group">' +
                        '<label class="control-label col-sm-5"><strong>Οδός: </strong> </label>' +
                       '<input type="text" class="form-control" id="info1" value="" required>' +
                        '</div>' +
						'<div class="form-group">' +
                        
						
                        //...
                        '<div class="form-group">' +
                        '<label class="control-label col-sm-5"><strong> Περιγραφή&nbsp;εμποδίου: </strong></label>' +
                        ' <textarea <input  type="text" class="form-control" rows="6" id="descript" name="descript" required/></textarea>'+
						//'<textarea  type="text" class="form-control" rows="6" id="descrip" name="descript">...</textarea>' +
                        '</div>' +
                        '<input style="display: none;" type="text" id="lat" name="lat" value="' + coords.lat.toFixed(6) + '" />' +
                        '<input style="display: none;" type="text" id="lng" name="lng" value="' + coords.lng.toFixed(6) + '" />' +
                        '<div class="form-group">' +
                        '<div class="col-sm-12 text-center">' +
                        //'<button type="button" id="cancel" class="btn">Cancel</button>' +
                        '<button type="submit" value="submit"   class="btn btn-primary trigger-submit">Αποστολή</button>' +
                        '</div>' +
                        '</form>';

                tempMarker.bindPopup(popupContent, {
                    keepInView: true,
                    closeButton: true
                }).openPopup(e.layer);
				
		
			
				$("#form").submit(function(e) {

			 /* stop form from submitting normally */
			  e.preventDefault();


			  /* Send the data using post with element id name and name2*/
			  var posting = $.post("database/connection.php", $("#form").serialize());

 
			  /* Alerts the results */
			  posting.done(function( data ) {
					Swal.fire({
				  position: 'middle',
				  type: 'success',
				  title: 'Η δηλωση σας αποθηκεύτηκε επιτυχώς',
				  showConfirmButton: false,
				  timer: 2000
				})
				
					$('form').fadeOut();
					map.closePopup();
			  });
			  
			  
			  
			  
			  
			});
			

			
			var date = new Date();

			var day = date.getDate();
			var month = date.getMonth() + 1;
			var year = date.getFullYear();

			if (month < 10) month = "0" + month;
			if (day < 10) day = "0" + day;

			var today = year + "-" + month + "-" + day;


			document.getElementById('date').value = today;

		
            });
			
			
			$("#address").keyup(function codeAddress(e){
				if (e.keyCode === 13) {
					$("#test").click();
				}
			});


			var geocoder = new google.maps.Geocoder();

			 function codeAddress() {
			 
				var address = document.getElementById('address').value;

				geocoder.geocode( { 'address': address}, function(results, status) {
				  if (status == google.maps.GeocoderStatus.OK) {
				
				   map.panTo([results[0].geometry.location.lat(),results[0].geometry.location.lng()]);
				   console.log(results[0].geometry.location.lat(),results[0].geometry.location.lng());
				  var marker = L.marker([results[0].geometry.location.lat(), results[0].geometry.location.lng()], { title: 'address' }).addTo(map)
				  .bindPopup(results[0].formatted_address)
					.openPopup();
					 map.setView([results[0].geometry.location.lat(),results[0].geometry.location.lng()], 18);
				  } else {
					$('#result').html('Geocode was not successful for the following reason: ' + status);
				  }
				});
			  };
			  
  

 
  
  

	/*var geocoder = L.Control.geocoder({position: 'topright',placeholder: 'Αναζήτησε μια οδό ή περιοχή...'}
	
	).addTo(map); */


            lc = L.control.locate({
                position: 'topright',
                strings: {
                    title: "Δείξε μου που βρίσκομαι!"
                }
            }).addTo(map);
			
		
			L.drawLocal.draw.handlers.polyline.tooltip.start = "'Κλίκαρε' ένα σημείο να αρχίσεις την μέτρηση";
			L.drawLocal.draw.handlers.polyline.tooltip.cont = "'Κλίκαρε' για να συνεχίσεις την μέτρηση ";
			L.drawLocal.draw.handlers.polyline.tooltip.end = "'Κλίκαρε' στο τελευταίο σημείο για να ολοκληρώσεις την μέτρηση ";
			L.Control.MeasureControl.TITLE = "Μέτρησε μια απόσταση: Πατώντας το πλήκτρο με τον «χάρακα» μπορείς να μετρήσεις μια απόσταση που επιθυμείς να διανύσεις.";



			L.Control.measureControl( {
			 
			position: 'topright',
		
			
			} ).addTo(map);
			

            function pop4(feature, layer) {
                var popupContent =
                        "<dl><dt> </dt>"
                        + "<dd>" + feature.properties['name'] + "</dd>"

                layer.bindPopup(popupContent, {maxHeight: 400});
            }

            function addControlPlaceholders(map) {
                var corners = map._controlCorners,
                        l = 'leaflet-',
                        container = map._controlContainer;
                function createCorner(vSide, hSide) {
                    var className = l + vSide + ' ' + l + hSide;
                    corners[vSide + hSide] = L.DomUtil.create('div', className, container);
                }
                createCorner('horizontalcenter', 'bottom');
            }
            addControlPlaceholders(map);


            function switchLayer(collection, layerKey) {
                if (layerKey in collection) {
                    $.each(collection, function (key, layer) {
                        if (key === layerKey) {
                            if (!map.hasLayer(layer)) {
                                map.addLayer(layer);
                            }
                        } else if (map.hasLayer(layer)) {
                            map.removeLayer(layer);
                        }
                    });
                } else {
                    console.log('There is no layer key by the name "' + layerKey + '" in the specified object.');
                }
            }

            function print_current_page()
            {
			//Print Page
			window.print();
            }
			
	



            $("#map_1").on('click', function () {
                switchLayer(baseLayers, "Roadmap");
                $('#map_2').prop('checked', false); // Unchecks it
               // $('#map_3').prop('checked', false); // Unchecks it

                document.getElementById('map_1').setAttribute('checked');
                return false;
            });
			
            $("#map_2").on('click', function () {
                switchLayer(baseLayers, "Satellite");
                $('#map_1').prop('checked', false); // Unchecks it
               // $('#map_3').prop('checked', false); // Unchecks it

                document.getElementById('map_2').setAttribute('checked');
                return false;
            });
			
           /* $("#map_3").on('click', function () {
                switchLayer(baseLayers, "Traffic");
                $('#map_2').prop('checked', false); // Unchecks it
                $('#map_1').prop('checked', false); // Unchecks it

                document.getElementById('map_3').setAttribute('checked');
                return false;
            });*/
			
            $('#locate-position').on('click', function () {
                map.locate({setView: true, maxZoom: 15});
            });



            $('#box-1').on('click', function () {
                if (map.hasLayer(markers)) {

                    map.removeLayer(markers);
                    document.getElementById("").style.visibility = "hidden";
                } else {

                    map.addLayer(markers);
                    document.getElementById("").style.visibility = "visible";
                }



            });
            $('#box-2').on('click', function () {
                if (map.hasLayer(pezodromia2)) {


                    map.removeLayer(pezodromia2);
                    map.removeLayer(pezodromia3);
					
				map.removeControl(legend);
				
					
                } else {

                    map.addLayer(pezodromia2);
                    map.addLayer(pezodromia3);
					map.addControl(legend);
						
				
                }

            });


            $('#box-3').on('click', function () {
                if (map.hasLayer(pois_moscha)) {



                    map.removeLayer(pois_moscha);
					map.removeLayer(pois_alimos);

                } else {

                    map.addLayer(pois_moscha);
					map.addLayer(pois_alimos);

                }

            });
			
			
			  $('#box-4').on('click', function () {
                if (map.hasLayer(diavaseis_1)) {


					map.removeLayer(diavaseis_2);
                    map.removeLayer(diavaseis_1);
			
                } else {

                    map.addLayer(diavaseis_1);
					map.addLayer(diavaseis_2);

                }

            });
			
			
			  $('#box-5').on('click', function () {
                if (map.hasLayer(oria_alimos)) {


					map.removeLayer(oria_alimos);
					map.removeLayer(oria_moschato);
                   
			
                } else {

                    map.addLayer(oria_alimos);
					map.addLayer(oria_moschato);
					

                }

            });

         
            $("#moschato_1").click(function () {
                map.fitBounds(pezodromia2.getBounds());
			

                return false;
            });
            $("#alimos_1").click(function () {
                map.fitBounds(pezodromia3.getBounds());
				
                return false;
            });
			
			
		
			
			var violetIcon = new L.Icon({
				  iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-violet.png',
				  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
				  iconSize: [25, 41],
				  iconAnchor: [12, 41],
				  popupAnchor: [1, -34],
				  shadowSize: [41, 41]
				});

				
				
				
		
			//-----navigation MOSCHATO ----//
			
            $("#nav_2").click(function () {
			
                map.fitBounds(pezodromia2.getBounds());
                    map.removeLayer(pezodromia2);
                    map.removeLayer(pezodromia3);
					map.removeLayer(diavaseis_2);
                    map.removeLayer(diavaseis_1);
					map.removeLayer(markers);
					map.removeControl(legend);
					
					$('#box-1').prop('checked', false); // Unchecks it
					$('#box-2').prop('checked', false);
					$('#box-3').prop('checked', true);
					$('#box-4').prop('checked', false);
					
					
					$("#floating-panel").hide();
			
						
			$("#panel-float").stop();
			$("#panel-float").fadeIn("fast");
			
			 $("#page").stop();
            $("#page").fadeIn("fast");
			
					
					
				
					map.eachLayer(function (layer) {
						map.removeLayer(layer);
					});
			
				
          var grayscale = L.tileLayer('https://api.mapbox.com/styles/v1/kiousisp/ck0caeu773vzu1cnohjne5evj/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoia2lvdXNpc3AiLCJhIjoiY2swY2EwODZnMHp1NTNjcGVoeHFienVydCJ9.oeQ42AwDeTTJkbpB9LFE_Q', {
                maxZoom: 19,
                
                bounds: [[34.582435, 18.769232], [42.206741, 29.918491]],
				useCache: true,
			crossOrigin: true
            }).addTo(map);
			
			map.addLayer(pois_alimos);
			map.addLayer(pois_moscha);
			map.addLayer(oria_alimos);
			map.addLayer(oria_moschato);
			map.addLayer(drawnItems);
			map.addControl(lc);
					
			var layerGroup = L.layerGroup( {
		  pane: 'pane800'
		}).addTo(map);
	
				
		var geoserverUrl = "https://central.accesslab.gr/geoserver/";
		var selectedPoint = null;

		var source = null;
		var target = null;

	  var pathLayer = L.geoJSON(null);
	  var pathLayer2 = L.geoJSON(null);
				

		
		var sourceMarker = L.marker([37.952019,23.682403], {
		//var sourceMarker = L.marker([-1.283147351126288, 36.822524070739746], {
			draggable: true,
			
			icon: violetIcon
		})
			.on("dragend", function(e) {
				selectedPoint = e.target.getLatLng();
				getVertex(selectedPoint);
				getRoute();
			
			})
			.addTo(layerGroup);
			
			
			var targetMarker = L.marker([37.94954457436226, 23.677167892456055], {
		//var targetMarker = L.marker([-1.286107765621784, 36.83449745178223], {
			draggable: true,
			
		})
		.on("dragend", function(e) {
			selectedPoint = e.target.getLatLng();
			getVertex(selectedPoint);
			getRoute();
		
		})
		.addTo(layerGroup); 
		
		//var sourceMarker = L.marker();
		//var sourceMarker = L.marker();
		
		var geocoder = new google.maps.Geocoder();
		
		

			///////testing ab
			document.getElementById ("code1").addEventListener ("click", codeAddress1, false);
		
		

			function codeAddress1(var4, var5) {
			
						var geocoder = new google.maps.Geocoder();
			layerGroup.removeLayer(sourceMarker);
			//map.removeLayer(sourcetMarker);
			
				var address = document.getElementById('address1').value;
				
				
	
				
				geocoder.geocode( { 'address': address}, function(results, status) {
				
				  if (status == google.maps.GeocoderStatus.OK) {
				
						

				
				   map.panTo([results[0].geometry.location.lat(),results[0].geometry.location.lng()]);
				   console.log(results[0].geometry.location.lat(),results[0].geometry.location.lng());
				 // var marker = L.marker([results[0].geometry.location.lat(), results[0].geometry.location.lng()], { title: 'address' }).addTo(layerGroup)
				//  .bindPopup(results[0].formatted_address)
				//	.openPopup();
				
					var var1= L.marker([results[0].geometry.location.lat(), results[0].geometry.location.lng()]);
					
					var var1lat = results[0].geometry.location.lat();
					var var1lng = results[0].geometry.location.lng();
					
					codeAddress1(var1lat,var1lng);
					
					targetMarker = L.marker([var4, var5]);
					
					//targetMarker = var4;
			
						var sourceMarker = new L.marker([results[0].geometry.location.lat(), results[0].geometry.location.lng()], {
					//var targetMarker = L.marker([-1.286107765621784, 36.83449745178223], {
						draggable: true,
						icon: violetIcon
						
					})
					.on("dragend", function(e) {
						selectedPoint = e.target.getLatLng();
						getVertex(selectedPoint);
						getRoute();
				
					})
					.addTo(layerGroup);
					
				
					 map.setView([results[0].geometry.location.lat(),results[0].geometry.location.lng()], 18);
					
				
					
							 
		// function to get nearest vertex to the passed point
		function getVertex(selectedPoint) {
			var url = `${geoserverUrl}/wfs?service=WFS&version=1.0.0&request=GetFeature&typeName=mosxato:nearest_vertex&outputformat=application/json&viewparams=x:${
				selectedPoint.lng};y:${selectedPoint.lat};`;
			$.ajax({
				url: url,
				async: false,
				//method: "POST",
				success: function(data) {
					//console.log(data);
					loadVertex(
						data,
						selectedPoint.toString() === sourceMarker.getLatLng().toString()
					);
				},
				error: function() { alert('Failed!'); }
			});
		}

		// function to update the source and target nodes as returned from geoserver for later querying
		function loadVertex(response, isSource) {
			//console.log(response.features);
			var features = response.features;
			map.removeLayer(pathLayer);
			map.removeLayer(pathLayer2);
			if (isSource) {
				source = features[0].properties.id;
			} else {
				target = features[0].properties.id;
			}
		}

		
		
		
		// function to get the shortest path from the give source and target nodes
		function getRoute() {
			var url = `${geoserverUrl}/wfs?service=WFS&version=1.0.0&request=GetFeature&typeName=mosxato:shortest_path&maxFeatures=50&outputformat=application/json&viewparams=source:${source};target:${target};`;
			var url2 = `${geoserverUrl}/wfs?service=WFS&version=1.0.0&request=GetFeature&typeName=mosxato:safest_path&maxFeatures=50&outputformat=application/json&viewparams=source:${source};target:${target};`;

	
	

		$.getJSON(url, function(data) {
			//console.log(data.features.properties.time);
			var timed = 0;
			var dist = 0;
			


		function style1(feature) {
		return {
			
			color: color,
		   weight: weight,
		   opacity:opacity
		};
	}


			for (var key in data.features) {
				timed += data.features[key].properties.time;
				dist += data.features[key].properties.distance;
			};
			// alert("Time to travel: " +roundToTwo(timed*60) + " minutes"+ "\nDistance to travel: "+Math.round(dist*1000)+" meters");
			map.removeLayer(pathLayer);
			pathLayer = L.geoJSON(data, { style: style1(color= 'SlateBlue', weight = 8, opacity = 0.8)});
			
			
			pathLayer.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα");
			
			map.addLayer(pathLayer);
			//pathLayer.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα").openPopup();
			
			
			if (roundToTwo(timed*60) != 0) {
			
			document.getElementById("info").innerHTML = "<span style='color: SlateBlue'>Συντομότερη Διαδρομή </span><br><strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα";
           
		   } else {
		document.getElementById("info").innerHTML = "<strong>Δεν βρέθηκε διαδρομή, δοκίμασε κάποιο άλλο προορισμό</strong>";
			}
			
			$("#floating-panel").hide();
			
						
			$("#panel-float").stop();
			$("#panel-float").fadeIn("fast");
			
			 $("#page").stop();
            $("#page").fadeIn("fast");
			
			
		
			
			
			///////////////////////////////////////////////////////////
			
			pathLayer.on('mouseover', function() {
			this.setStyle({
				color: 'red'  , //or whatever style you wish to use;
				
			});
			pathLayer.bringToFront();
			
		});
					pathLayer.on('mouseout', function() {
					this.setStyle({
				color: 'SlateBlue'   //or whatever style you wish to use;
									});
			});


           
          //  $("#feature_infos").fadeOut(5000);
	
		});
		

			$.getJSON(url2, function(data2) {
			//console.log(data.features.properties.time);
			var timed = 0;
			var dist = 0;
			
			function style2(feature) {
			return {
				
				color: color,
			   weight: weight,
			   opacity:opacity
			};
		}


			for (var key in data2.features) {
				timed += data2.features[key].properties.time;
				dist += data2.features[key].properties.distance;
			};
			// alert("Time to travel: " +roundToTwo(timed*60) + " minutes"+ "\nDistance to travel: "+Math.round(dist*1000)+" meters");
			map.removeLayer(pathLayer2);
			pathLayer2 = L.geoJSON(data2, {style: style2(color= 'MediumTurquoise', weight = 8, opacity = 0.8)});
			
			
			pathLayer2.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα");
			
			map.addLayer(pathLayer2);
			//pathLayer.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα").openPopup();
			
			
			if (roundToTwo(timed*60) != 0) {
			
			document.getElementById("info1").innerHTML = "<span style='color: MediumTurquoise'>Ασφαλέστερη Διαδρομή </span><br><strong> Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα";
           
		   } 
		   else {
		document.getElementById("info1").innerHTML = "  ";
			}
			
			$("#floating-panel").hide();
			
			$("#panel-float").stop();
            $("#panel-float").fadeIn("fast");
			
            $("#page").stop();
            $("#page").fadeIn("fast");
			
				pathLayer2.on('mouseover', function() {
				this.setStyle({
					color: 'red'   //or whatever style you wish to use;
				});
				
				pathLayer2.bringToFront();
			});

			pathLayer2.on('mouseout', function() {
				this.setStyle({
				color: 'MediumTurquoise'   //or whatever style you wish to use;
									});
				
			});

           
          //  $("#feature_infos").fadeOut(5000);
	
		});
		
		}
				function roundToTwo(num) {    
					return +(Math.round(num + "e+2")  + "e-2");
				}
			


				
		
				getVertex(sourceMarker.getLatLng());
				getVertex(targetMarker.getLatLng());
				getRoute();
				
                return false;
				
				
			
					 
					 
					 
					 
				  } else {
					$('#result').html('Geocode was not successful for the following reason: ' + status);
				  }
				});
				
			};
		
		
		
		
		
		
		
		
		document.getElementById ("code2").addEventListener ("click", codeAddress2, false);

			
	function codeAddress2(var2,var6) {
			
						
			
			layerGroup.removeLayer(targetMarker );
			//map.removeLayer(targetMarker );
			
			var address = document.getElementById('address2').value;
		
		
			
				
				geocoder.geocode( { 'address': address}, function(results, status) {
				  if (status == google.maps.GeocoderStatus.OK) {
		
				   map.panTo([results[0].geometry.location.lat(),results[0].geometry.location.lng()]);
				   console.log(results[0].geometry.location.lat(),results[0].geometry.location.lng());
				 // var marker = L.marker([results[0].geometry.location.lat(), results[0].geometry.location.lng()], { title: 'address' }).addTo(layerGroup)
				//  .bindPopup(results[0].formatted_address)
				//	.openPopup();
				
				
				
					//sourceMarker = var2;
					var var3 = L.marker([results[0].geometry.location.lat(), results[0].geometry.location.lng()]);
					var var3lat =results[0].geometry.location.lat();
					var var3lng =results[0].geometry.location.lng();
					codeAddress1(var3lat,var3lng);
					sourceMarker = L.marker([var2, var6]);
					
					
					
						var targetMarker = new L.marker([results[0].geometry.location.lat(), results[0].geometry.location.lng()], {
					//var targetMarker = L.marker([-1.286107765621784, 36.83449745178223], {
						draggable: true,
						
					})
					.on("dragend", function(e) {
						selectedPoint = e.target.getLatLng();
						getVertex(selectedPoint);
						getRoute();
				
					})
					.addTo(layerGroup);
					
				
			
					 map.setView([results[0].geometry.location.lat(),results[0].geometry.location.lng()], 18);
					
				
					 
			// function to get nearest vertex to the passed point
			function getVertex(selectedPoint) {
				var url = `${geoserverUrl}/wfs?service=WFS&version=1.0.0&request=GetFeature&typeName=mosxato:nearest_vertex&outputformat=application/json&viewparams=x:${
					selectedPoint.lng};y:${selectedPoint.lat};`;
				$.ajax({
					url: url,
					async: false,
					//method: "POST",
					success: function(data) {
						//console.log(data);
						loadVertex(
							data,
							selectedPoint.toString() === sourceMarker.getLatLng().toString()
						);
					},
					error: function() { alert('Failed!'); }
				});
			}

		// function to update the source and target nodes as returned from geoserver for later querying
		function loadVertex(response, isSource) {
			//console.log(response.features);
			var features = response.features;
			map.removeLayer(pathLayer);
			map.removeLayer(pathLayer2);
				if (isSource) {
					source = features[0].properties.id;
				} else {
					target = features[0].properties.id;
				}
			}

		
		
		
		// function to get the shortest path from the give source and target nodes
		function getRoute() {
			var url = `${geoserverUrl}/wfs?service=WFS&version=1.0.0&request=GetFeature&typeName=mosxato:shortest_path&maxFeatures=50&outputformat=application/json&viewparams=source:${source};target:${target};`;
			var url2 = `${geoserverUrl}/wfs?service=WFS&version=1.0.0&request=GetFeature&typeName=mosxato:safest_path&maxFeatures=50&outputformat=application/json&viewparams=source:${source};target:${target};`;


			$.getJSON(url, function(data) {
				//console.log(data.features.properties.time);
				var timed = 0;
				var dist = 0;
				


			function style1(feature) {
				return {
			
					color: color,
				   weight: weight,
				   opacity:opacity
				};
			}


			for (var key in data.features) {
				timed += data.features[key].properties.time;
				dist += data.features[key].properties.distance;
			};
			// alert("Time to travel: " +roundToTwo(timed*60) + " minutes"+ "\nDistance to travel: "+Math.round(dist*1000)+" meters");
			map.removeLayer(pathLayer);
			pathLayer = L.geoJSON(data, { style: style1(color= 'SlateBlue', weight = 8, opacity = 0.8)});
			
			
			pathLayer.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα");
			
			map.addLayer(pathLayer);
			//pathLayer.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα").openPopup();
			
			
			if (roundToTwo(timed*60) != 0) {
			
			document.getElementById("info").innerHTML = "<span style='color: SlateBlue'>Συντομότερη Διαδρομή </span><br><strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα";
           
		   } else {
		document.getElementById("info").innerHTML = "<strong>Δεν βρέθηκε διαδρομή, δοκίμασε κάποιο άλλο προορισμό</strong>";
			}
			
			$("#floating-panel").hide();
			
						
			$("#panel-float").stop();
			$("#panel-float").fadeIn("fast");
			
			 $("#page").stop();
            $("#page").fadeIn("fast");
			
			
	
			pathLayer.on('mouseover', function() {
			this.setStyle({
				color: 'red'  , //or whatever style you wish to use;
				
			});
			pathLayer.bringToFront();
			
		});
					pathLayer.on('mouseout', function() {
					this.setStyle({
				color: 'SlateBlue'   //or whatever style you wish to use;
									});
			});


           
          //  $("#feature_infos").fadeOut(5000);
	
		});
		

			$.getJSON(url2, function(data2) {
			//console.log(data.features.properties.time);
			var timed = 0;
			var dist = 0;
			
			function style2(feature) {
			return {
				
				color: color,
			   weight: weight,
			   opacity:opacity
			};
		}


			for (var key in data2.features) {
				timed += data2.features[key].properties.time;
				dist += data2.features[key].properties.distance;
			};
			// alert("Time to travel: " +roundToTwo(timed*60) + " minutes"+ "\nDistance to travel: "+Math.round(dist*1000)+" meters");
			map.removeLayer(pathLayer2);
			pathLayer2 = L.geoJSON(data2, {style: style2(color= 'MediumTurquoise', weight = 8, opacity = 0.8)});
			
			
			pathLayer2.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα");
			
			map.addLayer(pathLayer2);
			//pathLayer.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα").openPopup();
			
			
			if (roundToTwo(timed*60) != 0) {
			
			document.getElementById("info1").innerHTML = "<span style='color: MediumTurquoise'>Ασφαλέστερη Διαδρομή </span><br><strong> Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα";
           
		   } 
		   else {
		document.getElementById("info1").innerHTML = "  ";
			}
			
			$("#floating-panel").hide();
			
			$("#panel-float").stop();
            $("#panel-float").fadeIn("fast");
			
            $("#page").stop();
            $("#page").fadeIn("fast");
			
				pathLayer2.on('mouseover', function() {
				this.setStyle({
					color: 'red'   //or whatever style you wish to use;
				});
				
				pathLayer2.bringToFront();
			});

			pathLayer2.on('mouseout', function() {
				this.setStyle({
				color: 'MediumTurquoise'   //or whatever style you wish to use;
									});
				
			});

           
          //  $("#feature_infos").fadeOut(5000);
	
		});
		
		}
				function roundToTwo(num) {    
					return +(Math.round(num + "e+2")  + "e-2");
				}
			


				
		
				getVertex(sourceMarker.getLatLng());
				getVertex(targetMarker.getLatLng());
				getRoute();
				
                return false;	
				
			
					 
					 
				  } else {
					$('#result').html('Geocode was not successful for the following reason: ' + status);
				  }
				});
				
					
			  };	

			
						 
					 
		// function to get nearest vertex to the passed point
		function getVertex(selectedPoint) {
			var url = `${geoserverUrl}/wfs?service=WFS&version=1.0.0&request=GetFeature&typeName=mosxato:nearest_vertex&outputformat=application/json&viewparams=x:${
				selectedPoint.lng};y:${selectedPoint.lat};`;
			$.ajax({
				url: url,
				async: false,
				//method: "POST",
				success: function(data) {
					//console.log(data);
					loadVertex(
						data,
						selectedPoint.toString() === sourceMarker.getLatLng().toString()
					);
				},
				error: function() { alert('Failed!'); }
			});
		}

		// function to update the source and target nodes as returned from geoserver for later querying
		function loadVertex(response, isSource) {
			//console.log(response.features);
			var features = response.features;
			map.removeLayer(pathLayer);
			map.removeLayer(pathLayer2);
			if (isSource) {
				source = features[0].properties.id;
			} else {
				target = features[0].properties.id;
			}
		}

		
		
		
		// function to get the shortest path from the give source and target nodes
		function getRoute() {
			var url = `${geoserverUrl}/wfs?service=WFS&version=1.0.0&request=GetFeature&typeName=mosxato:shortest_path&maxFeatures=50&outputformat=application/json&viewparams=source:${source};target:${target};`;
			var url2 = `${geoserverUrl}/wfs?service=WFS&version=1.0.0&request=GetFeature&typeName=mosxato:safest_path&maxFeatures=50&outputformat=application/json&viewparams=source:${source};target:${target};`;

	
	

		$.getJSON(url, function(data) {
			//console.log(data.features.properties.time);
			var timed = 0;
			var dist = 0;
			


		function style1(feature) {
		return {
			
			color: color,
		   weight: weight,
		   opacity:opacity
		};
	}


			for (var key in data.features) {
				timed += data.features[key].properties.time;
				dist += data.features[key].properties.distance;
			};
			// alert("Time to travel: " +roundToTwo(timed*60) + " minutes"+ "\nDistance to travel: "+Math.round(dist*1000)+" meters");
			map.removeLayer(pathLayer);
			pathLayer = L.geoJSON(data, { style: style1(color= 'SlateBlue', weight = 8, opacity = 0.8)});
			
			
			pathLayer.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα");
			
			map.addLayer(pathLayer);
			//pathLayer.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα").openPopup();
			
			
			if (roundToTwo(timed*60) != 0) {
			
			document.getElementById("info").innerHTML = "<span style='color: SlateBlue'>Συντομότερη Διαδρομή </span><br><strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα";
           
		   } else {
		document.getElementById("info").innerHTML = "<strong>Δεν βρέθηκε διαδρομή, δοκίμασε κάποιο άλλο προορισμό</strong>";
			}
			
			$("#floating-panel").hide();
			
						
			$("#panel-float").stop();
			$("#panel-float").fadeIn("fast");
			
			 $("#page").stop();
            $("#page").fadeIn("fast");
			
			
		
			
			
			///////////////////////////////////////////////////////////
			
			pathLayer.on('mouseover', function() {
			this.setStyle({
				color: 'red'  , //or whatever style you wish to use;
				
			});
			pathLayer.bringToFront();
			
		});
					pathLayer.on('mouseout', function() {
					this.setStyle({
				color: 'SlateBlue'   //or whatever style you wish to use;
									});
			});


           
          //  $("#feature_infos").fadeOut(5000);
	
		});
		

			$.getJSON(url2, function(data2) {
			//console.log(data.features.properties.time);
			var timed = 0;
			var dist = 0;
			
			function style2(feature) {
			return {
				
				color: color,
			   weight: weight,
			   opacity:opacity
			};
		}


			for (var key in data2.features) {
				timed += data2.features[key].properties.time;
				dist += data2.features[key].properties.distance;
			};
			// alert("Time to travel: " +roundToTwo(timed*60) + " minutes"+ "\nDistance to travel: "+Math.round(dist*1000)+" meters");
			map.removeLayer(pathLayer2);
			pathLayer2 = L.geoJSON(data2, {style: style2(color= 'MediumTurquoise', weight = 8, opacity = 0.8)});
			
			
			pathLayer2.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα");
			
			map.addLayer(pathLayer2);
			//pathLayer.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα").openPopup();
			
			
			if (roundToTwo(timed*60) != 0) {
			
			document.getElementById("info1").innerHTML = "<span style='color: MediumTurquoise'>Ασφαλέστερη Διαδρομή </span><br><strong> Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα";
           
		   } 
		   else {
		document.getElementById("info1").innerHTML = "  ";
			}
			
			$("#floating-panel").hide();
			
			$("#panel-float").stop();
            $("#panel-float").fadeIn("fast");
			
            $("#page").stop();
            $("#page").fadeIn("fast");
			
				pathLayer2.on('mouseover', function() {
				this.setStyle({
					color: 'red'   //or whatever style you wish to use;
				});
				
				pathLayer2.bringToFront();
			});

			pathLayer2.on('mouseout', function() {
				this.setStyle({
				color: 'MediumTurquoise'   //or whatever style you wish to use;
									});
				
			});

           
          //  $("#feature_infos").fadeOut(5000);
	
		});
		
		}
				function roundToTwo(num) {    
					return +(Math.round(num + "e+2")  + "e-2");
				}
			


				
		
				getVertex(sourceMarker.getLatLng());
				getVertex(targetMarker.getLatLng());
				getRoute();
				
				
				
                return false;	
				
		
            });
				
		
			//-----END navigation MOSCHATO ----//
			
			
			
			
			
			
			
			
		
			
			
			//-----navigation ALIMOS ----//
			
			
			
			
            $("#nav_3").click(function () {
		
			
			
                map.fitBounds(pezodromia3.getBounds());
				
					
                    map.removeLayer(pezodromia2);
                    map.removeLayer(pezodromia3);
					map.removeLayer(diavaseis_2);
                    map.removeLayer(diavaseis_1);
					map.removeLayer(markers);
					map.removeControl(legend);
					
					
					$('#box-1').prop('checked', false); // Unchecks it
					$('#box-2').prop('checked', false);
					$('#box-3').prop('checked', true);
					$('#box-4').prop('checked', false);
						
				map.eachLayer(function (layer) {
						map.removeLayer(layer);
					});
			var grayscale = L.tileLayer('https://api.mapbox.com/styles/v1/kiousisp/ck0caeu773vzu1cnohjne5evj/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1Ijoia2lvdXNpc3AiLCJhIjoiY2swY2EwODZnMHp1NTNjcGVoeHFienVydCJ9.oeQ42AwDeTTJkbpB9LFE_Q', {
                maxZoom: 19,
                
                bounds: [[34.582435, 18.769232], [42.206741, 29.918491]],
				useCache: true,
			crossOrigin: true
            }).addTo(map);
			 	
			map.addLayer(pois_alimos);
			map.addLayer(pois_alimos);
			map.addLayer(pois_moscha);
			map.addLayer(oria_alimos);
			map.addLayer(oria_moschato);
			map.addLayer(drawnItems );
			map.addControl(lc);
	
					
	

		var layerGroup = L.layerGroup( {
		  pane: 'pane800'
		}).addTo(map);
				
					
		var geoserverUrl = "https://central.accesslab.gr/geoserver/";
		var selectedPoint = null;

		var source = null;
		var target = null;

		var pathLayer = L.geoJSON(null);
		var pathLayer2 = L.geoJSON(null);
		// draggable marker for starting point. Note the marker is initialized with an initial starting position
		var sourceMarker = L.marker([37.918400, 23.730165], {
		//var sourceMarker = L.marker([-1.283147351126288, 36.822524070739746], {
			draggable: true,
			icon: violetIcon
		})
			.on("dragend", function(e) {
				selectedPoint = e.target.getLatLng();
				getVertex(selectedPoint);
				getRoute();
			})
			.addTo( layerGroup );
			
	  
	
		

		// draggbale marker for destination point.Note the marker is initialized with an initial destination positon
		var targetMarker = L.marker([37.917798, 23.734425], {
		//var targetMarker = L.marker([-1.286107765621784, 36.83449745178223], {
			draggable: true,
			
		})
		.on("dragend", function(e) {
			selectedPoint = e.target.getLatLng();
			getVertex(selectedPoint);
			getRoute();
		})
		.addTo( layerGroup );


		// function to get nearest vertex to the passed point
		function getVertex(selectedPoint) {
			var url = `${geoserverUrl}/wfs?service=WFS&version=1.0.0&request=GetFeature&typeName=alimos:nearest_vertex&outputformat=application/json&viewparams=x:${selectedPoint.lng};y:${selectedPoint.lat};`;
			$.ajax({
				url: url,
				async: false,
				//method: "POST",
				success: function(data) {
					//console.log(data);
					loadVertex(
						data,
						selectedPoint.toString() === sourceMarker.getLatLng().toString()
					);
				},
				error: function() { alert('Failed!'); }
			});
		}
		
		
		

		// function to update the source and target nodes as returned from geoserver for later querying
		function loadVertex(response, isSource) {
			//console.log(response.features);
			var features = response.features;
			map.removeLayer(pathLayer);
			map.removeLayer(pathLayer2);
			if (isSource) {
				source = features[0].properties.id;
			} else {
				target = features[0].properties.id;
			}
		}

	
   
		// function to get the shortest path from the give source and target nodes
		function getRoute() {
		var url = `${geoserverUrl}/wfs?service=WFS&version=1.0.0&request=GetFeature&typeName=alimos:shortest_path&outputformat=application/json&viewparams=source:${source};target:${target};`;
		var url2 = `${geoserverUrl}/wfs?service=WFS&version=1.0.0&request=GetFeature&typeName=alimos:safest_path&outputformat=application/json&viewparams=source:${source};target:${target};`;

	
		
		$.getJSON(url, function(data) {
			//console.log(data.features.properties.time);
			var timed = 0;
			var dist = 0;
			


		function style1(feature) {
		return {
			
			color: color,
		   weight: weight,
		   opacity:opacity
		};
	}


			for (var key in data.features) {
				timed += data.features[key].properties.time;
				dist += data.features[key].properties.distance;
			};
			// alert("Time to travel: " +roundToTwo(timed*60) + " minutes"+ "\nDistance to travel: "+Math.round(dist*1000)+" meters");
			map.removeLayer(pathLayer);
			pathLayer = L.geoJSON(data, { style: style1(color= 'SlateBlue', weight = 8, opacity = 0.8)});
			
			
			pathLayer.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα");
			
			map.addLayer(pathLayer);
			//pathLayer.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα").openPopup();
			
		if (roundToTwo(timed*60) != 0) {
			
			document.getElementById("info").innerHTML = "<span style='color: SlateBlue'>Συντομότερη Διαδρομή </span><br><strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα";
           
		   } else {
		document.getElementById("info").innerHTML = "<strong>Δεν βρέθηκε διαδρομή, δοκίμασε κάποιο άλλο προορισμό</strong>";
			}
			
			$("#floating-panel").hide();
			$("#panel-float").stop();
            $("#panel-float").fadeIn("fast");
			
            $("#page").stop();
            $("#page").fadeIn("fast");
			
			pathLayer.on('mouseover', function() {
			this.setStyle({
				color: 'red'  , //or whatever style you wish to use;
				
			});
			pathLayer.bringToFront();
			
		});
					pathLayer.on('mouseout', function() {
					this.setStyle({
				color: 'SlateBlue'   //or whatever style you wish to use;
									});
			});


           
          //  $("#feature_infos").fadeOut(5000);
	
		});
		
		
		
			$.getJSON(url2, function(data2) {
			//console.log(data.features.properties.time);
			var timed = 0;
			var dist = 0;
			
			function style2(feature) {
			return {
				
				color: color,
			   weight: weight,
			   opacity:opacity
			};
		}


			for (var key in data2.features) {
				timed += data2.features[key].properties.time;
				dist += data2.features[key].properties.distance;
			};
			// alert("Time to travel: " +roundToTwo(timed*60) + " minutes"+ "\nDistance to travel: "+Math.round(dist*1000)+" meters");
			map.removeLayer(pathLayer2);
			pathLayer2 = L.geoJSON(data2, {style: style2(color= 'MediumTurquoise', weight = 8, opacity = 0.8)});
			
			
			pathLayer2.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα");
			
			map.addLayer(pathLayer2);
			//pathLayer.bindPopup("<strong>Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα").openPopup();
			
			
		if (roundToTwo(timed*60) != 0) {
			
			document.getElementById("info1").innerHTML = "<span style='color: MediumTurquoise'>Ασφαλέστερη Διαδρομή </span><br><strong> Εκτιμώμενος χρόνος: </strong>" +roundToTwo(timed*60) + " λεπτά" +  "<br /><strong>Απόσταση:</strong> "+Math.round(dist*1000)+" μέτρα";
           
		   } 
		   else {
		document.getElementById("info1").innerHTML = "  ";
			}
			
			$("#floating-panel").hide();
			
			$("#panel-float").stop();
			$("#panel-float").fadeIn("fast");	
	
            $("#page").stop();
            $("#page").fadeIn("fast");
			
				pathLayer2.on('mouseover', function() {
				this.setStyle({
					color: 'red'   //or whatever style you wish to use;
				});
				
				pathLayer2.bringToFront();
			});

			pathLayer2.on('mouseout', function() {
				this.setStyle({
				color: 'MediumTurquoise'   //or whatever style you wish to use;
									});
				
			});

           
          //  $("#feature_infos").fadeOut(5000);
	
		});
		
				}
				

				function roundToTwo(num) {    
					return +(Math.round(num + "e+2")  + "e-2");
				}
			
				
				getVertex(sourceMarker.getLatLng());
				getVertex(targetMarker.getLatLng());
				getRoute();
		
				
         return false;
		 
		 
		 
		
            });
			
			
			
			//-----END navigation ALIMOS ----//
			
			
			
			
			
			
			
		//-----contact form----//	
		function validateForm() {
			
			document.getElementById('status').innerHTML = "Αποστολή...";
			formData = {
				'name'     : $('input[name=name]').val(),
				'email'    : $('input[name=email]').val(),
				'subject'  : $('input[name=subject]').val(),
				'message'  : $('textarea[name=message]').val()
			};


		   $.ajax({
			url : "contactmail/contact_mail.php",
			type: "POST",
			data : formData,
			success: function(data, textStatus, jqXHR)
			{ 

				$('#status').text(data.message);
				
				if (data.code) //If mail was sent successfully, reset the form.
				$('#status').text(data.message);
				if (data.code) //If mail was sent successfully, reset the form.
				$('#contact-form').closest('form').find("input[type=text], textarea").val("")
			
			},
			error: function (jqXHR, textStatus, errorThrown)
			{
				$('#status').text(jqXHR);
			}
			 
		});

		}
		
		
			
	
            /*   function onLocationFound(e) {
             var radius = e.accuracy / 2;
             L.marker(e.latlng).addTo(map)
             .on('click', function () {
             confirm("are you sure?");
             });
             //.bindPopup("You are within " + radius + " meters from this point").openPopup();
             L.circle(e.latlng, radius).addTo(map);
             }
             
             map.on('locationfound', onLocationFound);
             function onLocationError(e) {
             alert(e.message);
             }
             map.on('locationerror', onLocationError);
             */
			 

  
        </script>
		<script type='text/javascript' data-cfasync='false'>window.purechatApi = { l: [], t: [], on: function () { this.l.push(arguments); } }; 
(function () { var done = false; var script = document.createElement('script'); script.async = true; 
script.type = 'text/javascript'; script.src = 'https://app.purechat.com/VisitorWidget/WidgetScript'; document.getElementsByTagName('HEAD').item(0).appendChild(script); 
script.onreadystatechange = script.onload = function (e) { if (!done && (!this.readyState || this.readyState == 'loaded' || this.readyState == 'complete')) 
{ var w = new PCWidget({c: 'ad3cc5d5-03a9-4901-91e7-44924feb6b85', f: true }); done = true; } }; })();</script>
  
			<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js" integrity="sha256-uEFhyfv3UgzRTnAZ+SEgvYepKKB0FW6RqZLrqfyUNug=" crossorigin="anonymous"></script>
		
		<script type="text/javascript">
    $(window).on('load',function(){
       // $('#ModalWarning').modal('show');
		 if ($.cookie('modal_shown') == null) {
        $.cookie('modal_shown', 'yes', { expires: 1, path: '/' });
        $('#ModalWarning').modal('show');
    }
    });
	
</script>
			
	<!---<div id="logo">
		<img src="img/attica4.png"   width="190" height="70">
	</div>
		--->
    </body>
</html>

